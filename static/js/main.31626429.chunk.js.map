{"version":3,"sources":["evaluation/evalgraph.js","evaluation/evalmap.js","evaluation/rankingTable.js","evaluation/evaluation.js","homepage/homepage.js","submit/submit.js","navbar/navbar.js","forecastbench.js","reportWebVitals.js","index.js"],"names":["lightColorScheme","darkColorScheme","addChart","methods","lines","scatters","legends","data","dateRange","metrics","colorScheme","forEach","method","idx","color","length","lineStyle","stroke","strokeWidth","parent","border","scatterStyle","fill","labels","tooltipStyle","fontSize","fontFamily","fontWeight","lineData","filter","datapoint","isNaN","y","x","push","name","symbol","style","interpolation","size","datum","toUpperCase","toFixed","labelComponent","cornerRadius","flyoutStyle","flyoutHeight","dx","dy","evalgraph","props","mlMethods","humanMethods","allMethods","anchorDatapoints","containerComponent","theme","VictoryTheme","material","padding","top","bottom","left","right","height","tickCount","label","tickLabels","angle","axisLabel","dependentAxis","abbrStateMapping","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","stateAbbrMapping","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","Ohio","Oklahoma","Oregon","Pennsylvania","Tennessee","Texas","Utah","Vermont","Virginia","Washington","Wisconsin","Wyoming","evalmap","clickHandler","region","mapHandler","event","target","dataset","map","onClick","defaultFill","width","customizeFill","customize","rankingTable","addMethod","columns","title","dataIndex","sorter","a","b","methodName","sortDirections","render","filters","text","value","onFilter","entry","methodType","indexOf","type","relativeError","defaultSortOrder","averageError","forecastCount","fitWithinDateRange","defaultFilteredValue","updating","Math","random","dataSource","Option","Select","US_STATES","EU_REGIONS","ML_MODELS","Evaluation","componentWillMount","formRef","React","createRef","Papa","parse","getUrl","download","worker","header","skipEmptyLines","complete","initialize","state","timeSpan","scope","forecastType","result","csvRow","index","col","setState","methodList","concat","updateData","selectedDateRange","generateRanking","current","setFieldsValue","func","maxDateRange","undefined","maeData","dataSeries","date","d","csvData","id","allNaN","val","parseFloat","mainGraphData","reloadAll","baseline","baselineAverageError","rankingTableData","isMLMethod","ErrorSum","relativeErrorSum","fromSelectedStartDate","upToSelectedEndDate","dp","methodIsSelected","includes","doesMethodFitFilter","methodGraphData","prevState","removeMethod","targetMethod","Object","keys","reduce","newMainGraphData","onValuesChange","changedValues","allValues","prevMethods","newMethods","methodsToAdd","methodsToRemove","handleForecastTypeSelect","prevScope","substring","defaultRegion","handleErrorTypeSelect","e","errorType","handleTimeSpanSelect","handleRegionChange","newRegion","handleFilterChange","getTotalNumberOfWeeks","start","Date","getDateFromWeekNumber","weekNum","setDate","getDate","setTime","getTime","toISOString","slice","handleDateRangeChange","end","handleMetricsChange","console","log","metricsList","ReactGA","pageview","this","methodOptions","sort","s","evalMap","className","regionOptions","replace","justify","span","labelCol","wrapperCol","ref","Item","showSearch","defaultValue","onChange","placeholder","Group","Button","mode","range","tooltipVisible","tooltipPlacement","max","tipFormatter","onAfterChange","Component","HomePage","class","src","to","href","Submit","NavBar","Navbar","collapseOnSelect","expand","Brand","alt","Toggle","aria-controls","Collapse","Nav","Link","ForecastBench","redirectHome","redirectSubmit","redirectEvaluation","basename","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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AAW,gBACXC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEgB,cAAgBf,EAAEe,eACtCX,QAAS,CACP,CACEC,KAAM,mDACNC,MAAO,MAGXC,SAAU,SAACD,EAAOE,GAAR,OAAkBA,EAAMQ,oBAAsBV,GACxDW,qBAAsB,CAAC,KACvBf,eAAgB,CAAC,SAAU,YAE7B,CACEN,MAAO,SACPC,UAAW,WACXO,QAAS,CACP,CACEC,KAAM,6CACNC,MAAO,MAGXC,SAAU,SAACD,EAAOE,GAAR,OAAkBA,EAAMU,UAAYZ,GAC9CH,OAAQ,SAAAH,GACN,IAAIzK,EAAQyK,EAAG,QAAU,MACrBK,EAAOL,EAAG,iBAAmB,eACjC,OACE,cAAC,IAAD,CAAKzK,MAAOA,EAAZ,SACG8K,GADqC,IAAhBc,KAAKC,aAQrC,OAAO,cAAC,IAAD,CAAOzB,QAASA,EAAS0B,WAAYrM,K,uECnFtCsM,EAAWC,IAAXD,OAIFE,EAAY,CAChB,aACA,WACA,aACA,UACA,gBACA,YACA,QACA,WACA,OACA,SACA,UACA,WACA,eACA,UACA,gBACA,iBACA,aACA,WACA,WACA,SACA,YACA,QACA,UACA,WACA,YACA,WACA,eACA,iBACA,uBACA,SACA,WACA,UACA,WACA,cACA,OACA,YACA,OACA,WACA,eACA,WACA,WACA,cACA,aACA,eACA,UACA,SACA,QACA,UACA,QACA,UACA,cACA,iBACA,OACA,gBACA,2BACA,kBAGIC,EAAa,CACjB,UACA,WACA,UACA,UACA,UACA,UACA,UACA,SACA,QACA,SACA,UACA,QACA,SACA,SACA,YACA,aACA,UACA,QACA,cACA,UACA,SACA,WACA,UACA,WACA,WACA,UACA,SACA,iBACA,UACA,gBACA,SACA,eAKIC,EAAY,CAChB,mBACA,mBACA,oBACA,wBACA,0BACA,kBACA,yBACA,2BACA,uBAosBaC,E,kDAhsBb,WAAYhK,GAAQ,IAAD,8BACjB,cAAMA,IA0BRiK,mBAAqB,WACnB,EAAKC,QAAUC,IAAMC,YACrBC,IAAKC,MAAM,EAAKC,SAAU,CACxBC,UAAU,EACVC,QAAQ,EACRC,Q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","file":"static/js/main.31626429.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  VictoryChart,\n  VictoryLine,\n  VictoryScatter,\n  VictoryTooltip,\n  VictoryLabel,\n  VictoryLegend,\n  VictoryAxis,\n  VictoryZoomContainer,\n  VictoryTheme,\n} from \"victory\";\n\nconst lightColorScheme = [\n  \"#ffeebb44\",\n  \"#adeecf44\",\n  \"#ffe9d644\",\n  \"#fbbedf44\",\n  \"#cbbcb144\",\n  \"#ffd5cd44\",\n  \"#bedbbb44\",\n  \"#9ba4b444\",\n  \"#51adcf44\",\n  \"#f8efd444\",\n  \"#ffcbcb44\",\n  \"#99f3bd44\",\n  \"#d6e0f044\",\n  \"#fbe2e544\",\n];\n\nconst darkColorScheme = [\n  \"#ef4f4f\",\n  \"#74c7b8\",\n  \"#ff7b54\",\n  \"#ffb26b\",\n  \"#ffd56b\",\n  \"#939b62\",\n  \"#ec4646\",\n  \"#663f3f\",\n  \"#51c2d5\",\n  \"#bee5d3\",\n  \"#d6b0b1\",\n  \"#d6b0b1\",\n  \"#8b5e83\",\n  \"#3b5360\",\n  \"#111d5e\",\n  \"#c70039\",\n  \"#ee9595\",\n  \"#f37121\",\n  \"#350b40\",\n  \"#af0069\",\n];\n\n// Add a method in the chart.\nconst addChart = (methods, lines, scatters, legends, data, dateRange, metrics, colorScheme) => {\n  methods.forEach((method, idx) => {\n    if (data[method]) {\n      let color = colorScheme[idx % colorScheme.length];\n\n      const lineAnimation = {\n        duration: 2000,\n        onLoad: { duration: 1000 },\n      };\n\n      const flyoutStyle = { fill: \"white\", stroke: \"#ccc\", strokeWidth: 0.5 };\n\n      const lineStyle = {\n        data: { stroke: color, strokeWidth: 1 },\n        parent: { border: \"1px solid #ccc\" },\n      };\n\n      const scatterStyle = {\n        data: { fill: color },\n        labels: { fill: color },\n      };\n\n      const tooltipStyle = [\n        {\n          fill: color,\n          fontSize: 5,\n          fontFamily: \"sans-serif\",\n          fontWeight: \"bold\",\n        },\n        { fill: \"#aaa\", fontSize: 5, fontFamily: \"sans-serif\" },\n        { fill: \"#aaa\", fontSize: 5, fontFamily: \"sans-serif\" },\n      ];\n\n      // Filter out NaN values, and datapoints out of selected date range.\n      const lineData = data[method][\"dataSeries\"]\n        .filter(datapoint => (\n          !isNaN(datapoint.y)\n          && datapoint.x >= dateRange[0]\n          && datapoint.x <= dateRange[1]));\n      legends.push({ name: method, symbol: { fill: color } });\n\n      lines.push(\n        <VictoryLine\n          key={idx}\n          data={lineData}\n          // animate={lineAnimation}\n          style={lineStyle}\n          interpolation=\"linear\"\n        />\n      );\n      scatters.push(\n        <VictoryScatter\n          key={idx}\n          data={lineData}\n          style={scatterStyle}\n          size={1.5}\n          labels={({ datum }) => [\n            method,\n            `End date: ${datum.x}`,\n            `${metrics.toUpperCase()}: ${datum.y.toFixed(3)}`,\n          ]}\n          labelComponent={\n            <VictoryTooltip\n              cornerRadius={0}\n              flyoutStyle={flyoutStyle}\n              flyoutHeight={20}\n              style={tooltipStyle}\n              dx={-36}\n              dy={20}\n            />\n          }\n        />\n      );\n    }\n  });\n};\n\nconst evalgraph = props => {\n  const { data, mlMethods, humanMethods, allMethods, filter, metrics, dateRange } = props;\n\n  let lines = [];\n  let scatters = [];\n  let legends = [];\n\n  // Add an invisible anchor line to the chart to prevent the chart from being cut off.\n  if (data[\"anchorDatapoints\"]) {\n    lines.push(\n      <VictoryLine\n        style={{\n          data: { stroke: \"#ffffff\" },\n        }}\n        data={data.anchorDatapoints[\"dataSeries\"]}\n      />\n    );\n  }\n\n  // Cascade human methods on top of ml methods.\n  if (data) {\n    if (filter === \"human\") {\n      addChart(mlMethods, lines, scatters, legends, data, dateRange, metrics, lightColorScheme);\n      addChart(humanMethods, lines, scatters, legends, data, dateRange, metrics, darkColorScheme);\n\n      // Cascade ml methods on top of human methods.\n    } else if (filter === \"ml\") {\n      addChart(humanMethods, lines, scatters, legends, data, dateRange, metrics, lightColorScheme);\n      addChart(mlMethods, lines, scatters, legends, data, dateRange, metrics, darkColorScheme);\n\n      // If no filter specified, foreground all methods.\n    } else {\n      addChart(allMethods, lines, scatters, legends, data, dateRange, metrics, darkColorScheme);\n    }\n  }\n\n  // An invisible anchor point to prevent the chart from being cut off.\n  scatters.push(\n    <VictoryScatter\n      style={{\n        data: { fill: \"#ffffff\" },\n      }}\n      size={0}\n      data={[{ x: \" \", y: (metrics === \"mape\")? 1 : 200 }]}\n    />\n  );\n\n  return (\n    <div>\n      <VictoryChart\n        containerComponent={<VictoryZoomContainer />}\n        theme={VictoryTheme.material}\n        padding={{ top: 2, bottom: 40, left: 40, right: 60 }}\n        height={180}\n      >\n        {lines}\n        {scatters}\n        <VictoryAxis\n          tickCount={8}\n          // tickFormat={t => (typeof t === \"string\" ? t.substring(11, 21) : t)}\n          label=\"Forecast End Date\"\n          style={{\n            tickLabels: { fontSize: 6, padding: 10, angle: 25 },\n            axisLabel: { fontSize: 6, padding: 2 },\n          }}\n        />\n        <VictoryAxis\n          dependentAxis\n          label={metrics.toUpperCase()}\n          style={{\n            tickLabels: { fontSize: 6, padding: 1 },\n            axisLabel: { fontSize: 6, padding: 20 },\n          }}\n        />\n        <VictoryLegend\n          data={legends}\n          style={{ labels: { fontSize: 4 } }}\n          x={290}\n          y={0}\n        />\n      </VictoryChart>\n    </div>\n  );\n};\n\nexport default evalgraph;\n","import React, { Component } from \"react\";\nimport \"./evalmap.css\";\nimport USAMap from \"react-usa-map\";\n\nconst abbrStateMapping = {\n  AL: \"Alabama\", AK: \"Alaska\", AZ: \"Arizona\", AR: \"Arkansas\", CA: \"California\",\n  CO: \"Colorado\", CT: \"Connecticut\", DE: \"Delaware\", FL: \"Florida\", GA: \"Georgia\",\n  HI: \"Hawaii\", ID: \"Idaho\", IL: \"Illinois\", IN: \"Indiana\", IA: \"Iowa\",\n  KS: \"Kansas\", KY: \"Kentucky\", LA: \"Louisiana\", ME: \"Maine\", MD: \"Maryland\",\n  MA: \"Massachusetts\", MI: \"Michigan\", MN: \"Minnesota\", MS: \"Mississippi\", MO: \"Missouri\",\n  MT: \"Montana\", NE: \"Nebraska\", NV: \"Nevada\", NH: \"New Hampshire\", NJ: \"New Jersey\",\n  NM: \"New Mexico\", NY: \"New York\", NC: \"North Carolina\", ND: \"North Dakota\", OH: \"Ohio\",\n  OK: \"Oklahoma\", OR: \"Oregon\", PA: \"Pennsylvania\", RI: \"Rhode Island\", SC: \"South Carolina\",\n  SD: \"South Dakota\", TN: \"Tennessee\", TX: \"Texas\", UT: \"Utah\", VT: \"Vermont\",\n  VA: \"Virginia\", WA: \"Washington\", WV: \"West Virginia\", WI: \"Wisconsin\", WY: \"Wyoming\",\n};\n\nconst stateAbbrMapping = {\n  Alabama: \"AL\", Alaska: \"AK\", Arizona: \"AZ\", Arkansas: \"AR\", California: \"CA\",\n  Colorado: \"CO\", Connecticut: \"CT\", Delaware: \"DE\", Florida: \"FL\", Georgia: \"GA\",\n  Hawaii: \"HI\", Idaho: \"ID\", Illinois: \"IL\", Indiana: \"IN\", Iowa: \"IA\",\n  Kansas: \"KS\", Kentucky: \"KY\", Louisiana: \"LA\", Maine: \"ME\", Maryland: \"MD\",\n  Massachusetts: \"MA\", Michigan: \"MI\", Minnesota: \"MN\", Mississippi: \"MS\",\n  Missouri: \"MO\", Montana: \"MT\", Nebraska: \"NE\", Nevada: \"NV\", \"New Hampshire\": \"NH\",\n  \"New Jersey\": \"NJ\", \"New Mexico\": \"NM\", \"New York\": \"NY\", \"North Carolina\": \"NC\",\n  \"North Dakota\": \"ND\", Ohio: \"OH\", Oklahoma: \"OK\", Oregon: \"OR\", Pennsylvania: \"PA\",\n  \"Rhode Island\": \"RI\", \"South Carolina\": \"SC\", \"South Dakota\": \"SD\", Tennessee: \"TN\",\n  Texas: \"TX\", Utah: \"UT\", Vermont: \"VT\", Virginia: \"VA\", Washington: \"WA\",\n  \"West Virginia\": \"WV\", Wisconsin: \"WI\", Wyoming: \"WY\",\n};\n\nconst evalmap = props => {\n  const { clickHandler, region } = props;\n  const mapHandler = event => {\n    clickHandler(abbrStateMapping[event.target.dataset.name]);\n  };\n\n  let map = <USAMap onClick={mapHandler} defaultFill=\"#c05555\" width=\"400\" height=\"350\"/>\n  if (region !== \"states\") {\n      const abbr = stateAbbrMapping[region];\n      const customizeFill = {};\n      customizeFill[abbr] = {fill: \"#c05555\"};\n      map = <USAMap onClick={mapHandler} customize={customizeFill} width=\"400\" height=\"350\"/>\n  }\n\n  return (\n    <div>\n        {map}\n    </div>\n  );\n};\n\nexport default evalmap;\n","import React, { Component } from \"react\";\nimport { Table, Tag } from \"antd\";\n\nconst rankingTable = props => {\n  const { data, addMethod, metrics } = props;\n\n  const columns = [\n    {\n      title: \"Method Name\",\n      dataIndex: \"methodName\",\n      sorter: (a, b) => a.methodName < b.methodName,\n      sortDirections: [\"ascend\", \"descend\"],\n      render: methodName => (\n        <a\n          onClick={() => {\n            addMethod(methodName);\n          }}\n        >\n          {methodName}\n        </a>\n      ),\n    },\n    {\n      title: \"Method Type\",\n      dataIndex: \"methodType\",\n      filters: [\n        {\n          text: \"ML/AI\",\n          value: \"ML/AI\",\n        },\n        {\n          text: \"Human-Expert\",\n          value: \"Human-Expert\",\n        },\n      ],\n      onFilter: (value, entry) => entry.methodType.indexOf(value) === 0,\n      render: type => {\n        let color = type.length > 5 ? \"geekblue\" : \"volcano\";\n        return (\n          <Tag color={color} key={type}>\n            {type}\n          </Tag>\n        );\n      },\n    },\n    {\n      title: `Relative ${metrics.toUpperCase()}`,\n      dataIndex: \"relativeError\",\n      sorter: (a, b) => a.relativeError - b.relativeError,\n      defaultSortOrder: \"ascend\",\n      sortDirections: [\"ascend\", \"descend\"],\n    },\n    {\n      title: metrics.toUpperCase(),\n      dataIndex: \"averageError\",\n      sorter: (a, b) => a.averageError - b.averageError,\n      sortDirections: [\"ascend\", \"descend\"],\n    },\n    {\n      title: \"Number of Forecasts\",\n      dataIndex: \"forecastCount\",\n      sorter: (a, b) => a.forecastCount - b.forecastCount,\n      filters: [\n        {\n          text: \"Only show methods that fits selected date range.\",\n          value: \"1\",\n        },\n      ],\n      onFilter: (value, entry) => entry.fitWithinDateRange == value,\n      defaultFilteredValue: [\"1\"],\n      sortDirections: [\"ascend\", \"descend\"],\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"updating\",\n      filters: [\n        {\n          text: \"Only show methods that are still updating.\",\n          value: \"1\",\n        },\n      ],\n      onFilter: (value, entry) => entry.updating == value,\n      render: b => {\n        let color = b? \"green\" : \"red\";\n        let text = b? \"Still Updating\" : \"Stop Updates\";\n        return (\n          <Tag color={color} key={Math.random() * 10000}>\n            {text}\n          </Tag>\n        );\n      },\n    }\n  ];\n\n  return <Table columns={columns} dataSource={data} />;\n};\n\nexport default rankingTable;\n","import React, { Component } from \"react\";\nimport Papa from \"papaparse\";\nimport { readRemoteFile } from \"react-papaparse\";\nimport Evalgraph from \"./evalgraph\";\nimport Evalmap from \"./evalmap\";\nimport RankingTable from \"./rankingTable\";\nimport \"./evaluation.css\";\nimport { Form, Select, Row, Col, Radio, Slider } from \"antd\";\nimport FormItem from \"antd/lib/form/FormItem\";\nimport ReactGA from \"react-ga\";\n\nconst { Option } = Select;\n\nconst FORECAST_BENCH_SCOPE = [\"US-COVID\", \"EU-COVID\"];\n\nconst US_STATES = [\n  \"Washington\",\n  \"Illinois\",\n  \"California\",\n  \"Arizona\",\n  \"Massachusetts\",\n  \"Wisconsin\",\n  \"Texas\",\n  \"Nebraska\",\n  \"Utah\",\n  \"Oregon\",\n  \"Florida\",\n  \"New York\",\n  \"Rhode Island\",\n  \"Georgia\",\n  \"New Hampshire\",\n  \"North Carolina\",\n  \"New Jersey\",\n  \"Colorado\",\n  \"Maryland\",\n  \"Nevada\",\n  \"Tennessee\",\n  \"Hawai\",\n  \"Indiana\",\n  \"Kentucky\",\n  \"Minnesota\",\n  \"Oklahoma\",\n  \"Pennsylvania\",\n  \"South Carolina\",\n  \"District of Columbia\",\n  \"Kansas\",\n  \"Missouri\",\n  \"Vermont\",\n  \"Virginia\",\n  \"Connecticut\",\n  \"Iowa\",\n  \"Louisiana\",\n  \"Ohio\",\n  \"Michigan\",\n  \"South Dakota\",\n  \"Arkansas\",\n  \"Delaware\",\n  \"Mississippi\",\n  \"New Mexico\",\n  \"North Dakota\",\n  \"Wyoming\",\n  \"Alaska\",\n  \"Maine\",\n  \"Alabama\",\n  \"Idaho\",\n  \"Montana\",\n  \"Puerto Rico\",\n  \"Virgin Islands\",\n  \"Guam\",\n  \"West Virginia\",\n  \"Northern Mariana Islands\",\n  \"American Samoa\",\n];\n\nconst EU_REGIONS = [\n  \"Belgium\",\n  \"Bulgaria\",\n  \"Czechia\",\n  \"Denmark\",\n  \"Germany\",\n  \"Estonia\",\n  \"Ireland\",\n  \"Greece\",\n  \"Spain\",\n  \"France\",\n  \"Croatia\",\n  \"Italy\",\n  \"Cyprus\",\n  \"Latvia\",\n  \"Lithuania\",\n  \"Luxembourg\",\n  \"Hungary\",\n  \"Malta\",\n  \"Netherlands\",\n  \"Austria\",\n  \"Poland\",\n  \"Portugal\",\n  \"Romania\",\n  \"Slovenia\",\n  \"Slovakia\",\n  \"Finland\",\n  \"Sweden\",\n  \"United Kingdom\",\n  \"Iceland\",\n  \"Liechtenstein\",\n  \"Norway\",\n  \"Switzerland\",\n];\n\n// TODO: Since we only have limited number of ML/AI methods, they are hardcoded here.\n// Later we got to fetch this file from a file/online source.\nconst ML_MODELS = [\n  \"UMich_RidgeTfReg\",\n  \"SIkJaun10_hyper7\",\n  \"ensemble_SIkJa_RF\",\n  \"SIkJaun1_window_noval\",\n  \"SIkJaun1_hyper7_smooth7\",\n  \"SIkJaun1_hyper7\",\n  \"SIkJaun10_window_noval\",\n  \"SIkJaun10_hyper7_smooth7\",\n  \"SIkJaun_Ensemble_NN\",\n];\n\nclass Evaluation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scope: \"US-COVID\",\n      region: \"states\",\n      filter: \"all\",\n      humanMethods: [],\n      mlMethods: [],\n      methodList: [],\n      allMethods: [],\n      csvData: [],\n      mainGraphData: {},\n      rankingTableData: [],\n      metrics: \"mae\",\n      metricsList: [\"mae\", \"mape\"],\n      forecastType: \"state_death_eval\",\n      timeSpan: \"avg\",\n      maxDateRange: [],\n      selectedDateRange: [],\n    };\n  }\n\n  componentDidMount() {\n    ReactGA.initialize(\"UA-186385643-2\");\n    ReactGA.pageview(\"/covid19-forecast-bench/evaluation\");\n  }\n\n  componentWillMount = () => {\n    this.formRef = React.createRef();\n    Papa.parse(this.getUrl(), {\n      download: true,\n      worker: true,\n      header: true,\n      skipEmptyLines: true,\n      complete: this.initialize,\n    });\n  };\n\n  getUrl = () => {\n    let url =\n      \"https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/evaluation/US-COVID/state_death_eval/mae_avg_states.csv\";\n    if (this.state.timeSpan == \"avg\") {\n      url = `https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/evaluation/${this.state.scope}/${this.state.forecastType}/${this.state.metrics}_avg_${this.state.region}.csv`;\n    } else {\n      url = `https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/evaluation/${this.state.scope}/${this.state.forecastType}/${this.state.metrics}_${this.state.timeSpan}_weeks_ahead_${this.state.region}.csv`;\n    }\n    return url;\n  };\n\n  initialize = result => {\n    result.data.map((csvRow, index) => {\n      for (const col in csvRow) {\n        if (col === \"\" && csvRow[col] !== \" \") {\n          this.setState(state => {\n            const methodList = state.methodList.concat(csvRow[col]);\n            return {\n              methodList,\n            };\n          });\n        }\n      }\n    });\n\n    this.updateData(result, () => {\n      // Initialize data range.\n      this.setState(\n        {\n          selectedDateRange: [\"2020-08-01\", \"2021-02-27\"],\n        },\n        () => {\n          this.generateRanking();\n          this.formRef.current.setFieldsValue({\n            dateRange: [0, 30],\n          });\n        }\n      );\n      this.addMethod(\"ensemble_SIkJa_RF\");\n      this.addMethod(\"FH_COVIDhub_ensemble\");\n    });\n  };\n\n  updateData = (result, func) => {\n    if (!result) {\n      return;\n    }\n    let maxDateRange = [\"2020-08-01\", undefined];\n    if (this.state.scope === \"EU-COVID\") {\n      maxDateRange[0] = \"2021-03-13\";\n    }\n    let anchorDatapoints = { maeData: [], dataSeries: [] };\n\n    // Update the date range by reading the column names.\n    for (const date in result.data[0]) {\n      if (!maxDateRange[1]) {\n        maxDateRange[1] = date;\n      }\n      if (date > maxDateRange[1]) {\n        maxDateRange[1] = date;\n      }\n    }\n\n    for (const d in result.data[0]) {\n      if (d != \"\") {\n        anchorDatapoints.dataSeries.push({\n          x: d,\n          y: 0,\n        });\n      }\n    }\n\n    const csvData = result.data\n      .map((csvRow, index) => {\n        const method = { id: \"\", data: [] };\n        let allNaN = true;\n        for (const col in csvRow) {\n          if (col === \"\") {\n            method.id = csvRow[col];\n          } else {\n            const val = parseFloat(csvRow[col]);\n            if (!isNaN(val)) {\n              allNaN = false;\n            }\n            method.data.push({\n              x: col,\n              y: val,\n            });\n          }\n        }\n        if (!allNaN) {\n          return method;\n        }\n      })\n      .filter(method => method); // Filter out methods that are all NaN.\n\n    this.setState(\n      {\n        csvData: csvData,\n        mainGraphData: { anchorDatapoints },\n        maxDateRange: maxDateRange,\n        methodList: csvData.map(method => method.id),\n      },\n      () => {\n        this.reloadAll();\n        if (typeof func === \"function\" && func()) {\n          func();\n        }\n      }\n    );\n  };\n\n  generateRanking = () => {\n    const selectedDateRange = this.state.selectedDateRange;\n    const maxDateRange = this.state.maxDateRange;\n    // First filter out the covid hub baseline MAE average.\n    let baseline;\n    if (this.state.scope === \"US-COVID\") {\n      baseline = this.state.csvData.filter(\n        method => method.id === \"FH_COVIDhub_baseline\"\n      )[0];\n    } else {\n      baseline = this.state.csvData.filter(\n        method => method.id === \"EUFH_LANL_GrowthRate\"\n      )[0];\n    }\n\n    let baselineAverageError = 0;\n    baselineAverageError = baseline.data[baseline.data.length - 1].y;\n\n    const rankingTableData = this.state.csvData\n      .map(method => {\n        const methodName = method.id;\n        const methodType = this.isMLMethod(methodName)\n          ? \"ML/AI\"\n          : \"Human-Expert\";\n        let forecastCount = 0;\n        let ErrorSum = 0;\n        let relativeErrorSum = 0; // Sum of method_MAE/baseline_MAE\n        let fromSelectedStartDate = false;\n        let upToSelectedEndDate = false;\n        let updating = false;\n        method.data.forEach((dp, idx) => {\n          if (\n            !isNaN(dp.y) &&\n            dp.x >= selectedDateRange[0] &&\n            dp.x <= selectedDateRange[1]\n          ) {\n            ErrorSum += dp.y;\n            relativeErrorSum += dp.y / baselineAverageError;\n            forecastCount++;\n          }\n          if (!isNaN(dp.y) && dp.x == selectedDateRange[0]) {\n            fromSelectedStartDate = true;\n          }\n          if (!isNaN(dp.y) && dp.x == selectedDateRange[1]) {\n            upToSelectedEndDate = true;\n          }\n          if (!isNaN(dp.y) && dp.x == maxDateRange[1]) {\n            updating = true;\n          }\n        });\n        if (forecastCount === 0) {\n          return null;\n        }\n        const fitWithinDateRange = fromSelectedStartDate && upToSelectedEndDate;\n        const averageError = (ErrorSum / forecastCount).toFixed(2);\n        let relativeError = relativeErrorSum / forecastCount;\n        relativeError = relativeError.toFixed(3);\n        return {\n          methodName,\n          methodType,\n          averageError,\n          relativeError,\n          forecastCount,\n          fitWithinDateRange,\n          updating,\n        };\n      })\n      .filter(entry => entry && entry.forecastCount); // Filter out methods without any forecasts.\n\n    this.setState({\n      rankingTableData: rankingTableData,\n    });\n  };\n\n  methodIsSelected = method => {\n    if (this.state.allMethods && method) {\n      return this.state.allMethods.includes(method);\n    }\n    return false;\n  };\n\n  doesMethodFitFilter = (method, filter) => {\n    if (filter === \"ml\") {\n      return ML_MODELS.includes(method);\n    } else if (filter === \"human\") {\n      return !ML_MODELS.includes(method);\n    }\n    return true;\n  };\n\n  isMLMethod = method => {\n    return this.doesMethodFitFilter(method, \"ml\");\n  };\n\n  addMethod = method => {\n    if (this.methodIsSelected(method)) {\n      return;\n    }\n    const methodDataSeries = this.state.csvData.filter(\n      data => data.id === method\n    )[0].data;\n    const methodGraphData = { dataSeries: methodDataSeries };\n\n    this.setState(\n      prevState => {\n        return {\n          humanMethods: this.isMLMethod(method)\n            ? prevState.humanMethods\n            : [...prevState.humanMethods, method],\n          mlMethods: !this.isMLMethod(method)\n            ? prevState.mlMethods\n            : [...prevState.mlMethods, method],\n          allMethods: [...prevState.allMethods, method],\n          mainGraphData: {\n            ...prevState.mainGraphData,\n            [method]: methodGraphData,\n          },\n        };\n      },\n      () => {\n        this.formRef.current.setFieldsValue({\n          methods: this.state.allMethods,\n        });\n      }\n    );\n  };\n\n  removeMethod = targetMethod => {\n    if (targetMethod === \" \") {\n      return;\n    }\n    let humanMethods = this.state.humanMethods;\n    let mlMethods = this.state.mlMethods;\n    let allMethods = this.state.allMethods;\n\n    if (!this.isMLMethod(targetMethod)) {\n      humanMethods = humanMethods.filter(method => method !== targetMethod);\n    } else {\n      mlMethods = mlMethods.filter(method => method !== targetMethod);\n    }\n    allMethods = allMethods.filter(method => method != targetMethod);\n\n    this.setState(prevState => {\n      return {\n        humanMethods: humanMethods,\n        mlMethods: mlMethods,\n        allMethods: allMethods,\n        mainGraphData: Object.keys(prevState.mainGraphData)\n          .filter(method => method !== targetMethod)\n          .reduce((newMainGraphData, method) => {\n            return {\n              ...newMainGraphData,\n              [method]: prevState.mainGraphData[method],\n            };\n          }, {}),\n      };\n    });\n  };\n\n  onValuesChange = (changedValues, allValues) => {\n    const prevMethods = this.state.allMethods;\n    const newMethods = allValues.methods;\n    if (newMethods && prevMethods) {\n      const methodsToAdd = newMethods.filter(\n        method => !prevMethods.includes(method)\n      );\n      const methodsToRemove = prevMethods.filter(\n        method => !newMethods.includes(method)\n      );\n\n      methodsToAdd.forEach(this.addMethod);\n      methodsToRemove.forEach(this.removeMethod);\n    }\n  };\n\n  reloadAll = () => {\n    const prevMethods = this.state.allMethods;\n    this.setState(\n      {\n        humanMethods: [],\n        mlMethods: [],\n        allMethods: [],\n      },\n      () => {\n        prevMethods.forEach(this.addMethod);\n      }\n    );\n  };\n\n  handleForecastTypeSelect = type => {\n    const prevScope = this.state.scope;\n    const scope = type.substring(0, 2) === \"eu\" ? \"EU-COVID\" : \"US-COVID\";\n\n    if (scope != prevScope) {\n      const defaultRegion = type.substring(0, 2) === \"eu\" ? \"EU\" : \"states\";\n      this.setState(\n        {\n          scope: scope,\n          forecastType: type,\n          region: defaultRegion,\n          humanMethods: [],\n          mlMethods: [],\n          allMethods: [],\n        },\n        () => {\n          this.formRef.current.setFieldsValue({\n            region: defaultRegion,\n            methods: [],\n            dateRange: [0, 100],\n          });\n          Papa.parse(this.getUrl(), {\n            download: true,\n            worker: true,\n            header: true,\n            skipEmptyLines: true,\n            complete: result => {\n              this.updateData(result, () => {\n                if (this.state.scope === \"US-COVID\") {\n                  this.addMethod(\"ensemble_SIkJa_RF\");\n                  this.addMethod(\"FH_COVIDhub_ensemble\");\n                } else {\n                  this.addMethod(\"EUFH_LANL_GrowthRate\");\n                  this.addMethod(\"USC_SIkJalpha\");\n                }\n              });\n              this.setState({ selectedDateRange: this.state.maxDateRange });\n              this.generateRanking();\n            },\n          });\n        }\n      );\n    } else {\n      this.setState(\n        {\n          scope: scope,\n          forecastType: type,\n        },\n        () => {\n          Papa.parse(this.getUrl(), {\n            download: true,\n            worker: true,\n            header: true,\n            skipEmptyLines: true,\n            complete: result => {\n              this.updateData(result, this.generateRanking);\n            },\n          });\n        }\n      );\n    }\n  };\n\n  handleErrorTypeSelect = e => {\n    this.setState({\n      errorType: e.target.value,\n    });\n  };\n\n  handleTimeSpanSelect = e => {\n    this.setState(\n      {\n        timeSpan: e.target.value,\n      },\n      () => {\n        Papa.parse(this.getUrl(), {\n          download: true,\n          worker: true,\n          header: true,\n          skipEmptyLines: true,\n          complete: result => {\n            this.updateData(result, this.generateRanking);\n          },\n        });\n      }\n    );\n  };\n\n  handleRegionChange = newRegion => {\n    this.setState(\n      {\n        region: newRegion,\n      },\n      () => {\n        Papa.parse(this.getUrl(), {\n          download: true,\n          header: true,\n          worker: true,\n          skipEmptyLines: true,\n          complete: result => {\n            this.updateData(result, this.generateRanking);\n          },\n        });\n\n        this.formRef.current.setFieldsValue({\n          region: this.state.region,\n        });\n      }\n    );\n  };\n\n  handleFilterChange = e => {\n    this.setState({\n      filter: e.target.value,\n    });\n  };\n\n  getTotalNumberOfWeeks = () => {\n    const MS_PER_WEEK = 1000 * 60 * 60 * 24 * 7;\n    const start = new Date(this.state.maxDateRange[0]);\n    const end = new Date(this.state.maxDateRange[1]);\n    return (end - start) / MS_PER_WEEK;\n  };\n\n  getDateFromWeekNumber = weekNum => {\n    // WeekNum is the number of weeks since the maxDateRange[0].\n    if (this.state.maxDateRange[0]) {\n      const date = new Date(this.state.maxDateRange[0]);\n      date.setDate(date.getDate() + 7 * weekNum);\n      date.setTime(date.getTime() + 4 * 60 * 60 * 1000);\n      return date.toISOString().slice(0, 10);\n    }\n    return null;\n  };\n\n  handleDateRangeChange = e => {\n    const start = this.getDateFromWeekNumber(e[0]);\n    const end = this.getDateFromWeekNumber(e[1]);\n    this.setState(\n      {\n        selectedDateRange: [start, end],\n      },\n      () => {\n        this.generateRanking();\n      }\n    );\n  };\n\n  handleMetricsChange = metrics => {\n    this.setState(\n      {\n        metrics: metrics,\n      },\n      () => {\n        Papa.parse(this.getUrl(), {\n          download: true,\n          worker: true,\n          header: true,\n          skipEmptyLines: true,\n          complete: result => {\n            this.updateData(result, this.generateRanking);\n            console.log(this.state.csvData);\n          },\n        });\n      }\n    );\n  };\n\n  render() {\n    const {\n      scope,\n      filter,\n      humanMethods,\n      mlMethods,\n      allMethods,\n      methodList,\n      region,\n      metrics,\n      metricsList,\n      timeSpan,\n      mainGraphData,\n      rankingTableData,\n      maxDateRange,\n      selectedDateRange,\n    } = this.state;\n\n    const methodOptions = methodList\n      .filter(method => !this.methodIsSelected(method))\n      .filter(method => this.doesMethodFitFilter(method, filter))\n      .sort()\n      .map(s => {\n        return <Option key={s}> {s} </Option>;\n      });\n\n    const formLayout = {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 18 },\n    };\n\n    const evalMap =\n      scope === \"US-COVID\" ? (\n        <div className=\"evalmap-container\">\n          <Evalmap clickHandler={this.handleRegionChange} region={region} />\n        </div>\n      ) : null;\n\n    const regionOptions = [];\n    if (scope === \"US-COVID\") {\n      regionOptions.push(\n        <Option value=\"states\" key=\"0\">\n          US Average\n        </Option>\n      );\n      US_STATES.forEach((state, index) => {\n        regionOptions.push(\n          <Option value={state.replace(\" \", \"%20\")} key={index + 1}>\n            {state}\n          </Option>\n        );\n      });\n    } else {\n      regionOptions.push(\n        <Option value=\"EU\" key=\"0\">\n          EU Average\n        </Option>\n      );\n      EU_REGIONS.forEach((region, index) => {\n        regionOptions.push(\n          <Option value={region.replace(\" \", \"%20\")} key={index + 1}>\n            {region}\n          </Option>\n        );\n      });\n    }\n\n    return (\n      <div className=\"leader-page-wrapper\">\n        <div className=\"evaluation-container\">\n          <div className=\"control-container\">\n            <Row type=\"flex\" justify=\"space-around\">\n              <Col span={12}>\n                <Form\n                  {...formLayout}\n                  ref={this.formRef}\n                  onValuesChange={this.onValuesChange}\n                >\n                  <Form.Item label=\"Forecast Type\" name=\"forecastType\">\n                    <Select\n                      showSearch\n                      defaultValue=\"state_death_eval\"\n                      onChange={this.handleForecastTypeSelect}\n                    >\n                      <Option value=\"state_death_eval\">\n                        COVID-19 US state-level death forecasts\n                      </Option>\n                      <Option value=\"state_case_eval\">\n                        COVID-19 US state-level case forecasts\n                      </Option>\n                      <Option value=\"eu_death_eval\">\n                        COVID-19 Europe country-level death forecasts\n                      </Option>\n                      <Option value=\"eu_case_eval\">\n                        COVID-19 Europe country-level case forecasts\n                      </Option>\n                    </Select>\n                  </Form.Item>\n\n                  <Form.Item label=\"Region\" name=\"region\">\n                    <Select\n                      showSearch\n                      placeholder=\"Select a region\"\n                      defaultValue=\"states\"\n                      value={region}\n                      onChange={this.handleRegionChange}\n                    >\n                      {regionOptions}\n                    </Select>\n                  </Form.Item>\n\n                  <Form.Item label=\"Highlight\" name=\"filter\">\n                    <Radio.Group\n                      defaultValue=\"all\"\n                      onChange={this.handleFilterChange}\n                    >\n                      <Radio.Button value=\"all\">All Methods</Radio.Button>\n                      <Radio.Button value=\"ml\">ML/AI Methods</Radio.Button>\n                      <Radio.Button value=\"human\">\n                        Human-Expert Methods\n                      </Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n\n                  <Form.Item label=\"Methods\" name=\"methods\">\n                    <Select mode=\"multiple\" placeholder=\"Select Methods\">\n                      {methodOptions}\n                    </Select>\n                  </Form.Item>\n                  <Form.Item label=\"Metrics\" name=\"metrics\">\n                    <Select\n                      showSearch\n                      defaultValue=\"mae\"\n                      onChange={this.handleMetricsChange}\n                    >\n                      <Option value=\"mae\">MAE</Option>\n                      <Option value=\"mape\">MAPE</Option>\n                    </Select>\n                  </Form.Item>\n\n                  <Form.Item label=\"Prediction Time Span\" name=\"timeSpan\">\n                    <Radio.Group\n                      value={timeSpan}\n                      defaultValue={\"avg\"}\n                      onChange={this.handleTimeSpanSelect}\n                    >\n                      <Radio value=\"avg\">Average over 4 weeks</Radio>\n                      <Radio value=\"1\">1 week ahead</Radio>\n                      <Radio value=\"2\">2 week ahead</Radio>\n                      <Radio value=\"3\">3 week ahead</Radio>\n                      <Radio value=\"4\">4 week ahead</Radio>\n                    </Radio.Group>\n                  </Form.Item>\n                  <Form.Item label=\"Prediction Date Range\" name=\"dateRange\">\n                    <Slider\n                      range\n                      tooltipVisible\n                      tooltipPlacement=\"bottom\"\n                      max={this.getTotalNumberOfWeeks()}\n                      tipFormatter={this.getDateFromWeekNumber}\n                      onAfterChange={this.handleDateRangeChange}\n                    />\n                  </Form.Item>\n                </Form>\n              </Col>\n            </Row>\n          </div>\n          <Row type=\"flex\" justify=\"space-around\">\n            {evalMap}\n            <div className=\"evalgraph-container\">\n              <Evalgraph\n                className=\"graph\"\n                data={mainGraphData}\n                mlMethods={mlMethods}\n                humanMethods={humanMethods}\n                allMethods={allMethods}\n                filter={filter}\n                metrics={metrics}\n                dateRange={selectedDateRange}\n              />\n            </div>\n          </Row>\n          <Row type=\"flex\" justify=\"space-around\">\n            <div className=\"ranking-table-container\">\n              <RankingTable\n                data={rankingTableData}\n                addMethod={this.addMethod}\n                metrics={metrics}\n              />\n            </div>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Evaluation;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ReactGA from \"react-ga\";\nimport \"./homepage.css\";\nimport \"../forecastbench.css\";\nimport \"../w3.css\";\n\nclass HomePage extends Component {\n\n\tcomponentDidMount() {\n    \tReactGA.initialize('UA-186385643-2');\n    \tReactGA.pageview('/covid19-forecast-bench/home');\n  \t}\n\n\trender() {\n\t\treturn (\n\n\t\t\t<div class=\"w3-content\">\n\n\t\t\t<div class=\"mySlides w3-display-container w3-center\">\n\n\t\t\t<div class =\"w3-opacity\">\n\t\t\t<img src=\"https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/frontend/images/example_plot.PNG\" height=\"300\" width=\"100%\"/>\n\t\t\t</div>\n\n\t\t\t<div class=\"w3-display-bottommiddle w3-container w3-padding-32\">\n\t\t\t<p class=\"w3-xxlarge w3-center w3-text-black\"><b>COVID-19 Forecasting Benchmark</b></p>\n\t\t\t<p class=\"w3-black w3-text-white w3-large\"><b>Pushing the limits of AI/ML in epidemic forecasting</b></p>\n\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<br/>\n\t\t\t<div class = \"w3-sand w3-sans-serif w3-large\">\n\t\t\t<p class=\"w3-justify\">\n\t\t\tThe COVID-19 Forecasting Benchmark aims to provide an evaluation platform to AI/ML researchers interested in epidemic forecasting.\n\t\t\tSubmit your own forecasts and find out where you stand compared to other AI/ML based forecasts and expert COVID-19 forecasts.\n\t\t\t</p>\n\n\t\t\t<div class = \"w3-center\">\n\n\t\t\t<Link to=\"/evaluation\" className=\"w3-btn w3-blue\">Check Evaluations</Link>{'\t'}\n\t\t\t<Link to=\"/submit\" className=\"w3-btn w3-blue\">Start a Submission</Link>\n\n\t\t\t</div>\n\n\n\n\t\t\t<br/><br/>\n\t\t\t<p class=\"w3-justify\">\n\t\t\tWith the help of the AI/ML community, we wish to find the answers to the following questions.\n\t\t\t</p>\n\t\t\t<ul >\n\t\t\t<li> Which epidemic forecasting methods perform the best? </li>\n\t\t\t<li> Can AI/ML based epidemic forecasting methods wihtout human intervention outperform human tuned methods? </li>\n\t\t\t<li> What methodology decisions work best and when? </li>\n\t\t\t<li> What are the appropriate ways of evaluating epidemic forecasts? </li>\n\t\t\t</ul>\n\n\t\t\t<br/>\n\t\t\t<p>\n\t\t\tFor details, please read our <a href=\"https://arxiv.org/pdf/2102.02842.pdf\" target=\"_blank\"> paper </a> accepted at The 5th International Workshop on Health Intelligence in conjunction with The Thirty-Fifth AAAI Conference on Artificial Intelligence (AAAI-21).\n\t\t\tHere are the <a href=\"https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/Srivastava_USC_covid-bench.pdf\" target=\"_blank\"> slides</a>.\n\t\t\t</p>\n\n\t\t\t</div>\n\t\t\t<br/>\n\t\t\t<p>\n\t\t\tContact: ajiteshs[AT]usc[DOT]edu\n\t\t\t</p>\n\t\t\t<br/>\n\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\texport default HomePage;","import React, { Component } from \"react\";\nimport ReactGA from \"react-ga\";\nimport \"./submit.css\";\nimport \"../forecastbench.css\";\nimport \"../w3.css\";\n\n\nclass Submit extends Component {\n\n    componentDidMount() {    \n        ReactGA.initialize('UA-186385643-2');\n        ReactGA.pageview('/covid19-forecast-bench/submit');\n    }\n\n    render() {\n        return (\n\n            <div class=\"w3-content\">\n            \n                <div class = \"w3-sand w3-sans-serif w3-large\">\n                \n                    <h1>Submitting your Forecasts</h1>\n\n                    <p>\n                    We invite the interested teams to submit forecasts generated by their methodology by issuing a pull request.\n                    </p>\n\n                    <ul class=\"w3-ul\">\n                    <li> <b> Data to use</b>: While generating retrospective forecasts, please ensure that you are only using data that was available before then. \n                    Our Github repo provides the <a href=\"https://github.com/scc-usc/covid19-forecast-bench/tree/master/historical-data\" target=\"_blank\"> version of case and death data available on previous days </a>. \n                    The method should treat them as \"separate datasets\" without any knowledge of the date of the data, i.e., the method should be consistent irrespective of the date.\n\n                    <div class =\"w3-center\">\n                        <img src=\"https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/frontend/images/forecast-generation.png\" width=\"80%\"/>\n                    </div>\n                    You may use the historical versions of the JHU data available at <a href=\" https://github.com/scc-usc/ReCOVER-COVID-19/blob/master/results/historical_forecasts\" target=\"_blank\"> our other repo in time-series format</a>.\n                    Other data sources may be used as long as you can guarantee that no \"foresight\" was used.\n                    </li>\n                    <li> <b> Submission format </b>:The format of the file should be exactly like the <a href=\"https://github.com/reichlab/covid19-forecast-hub/blob/master/data-processed/README.md#forecast-file-format\" target=\"_blank\"> submissions for Reich Lab's forecast hub</a>. Please follow the naming convention: [Date of forecast (YYYY-MM-DD)]-[Method_Name].csv. </li>\n                    <li> <b> Forecast dates </b>: We will take the retrospective forecasts for any range of time, starting in July until the present. </li>\n                    <li> <b> Forecast locations </b>: Currently, we are only accepting case and death forecasts for US state, county, and national-level and national-level for other countries. More locations will be addressed in the future. </li>\n                    <li> <b> Forecast horizon</b>: The forecasts are expected to be incident cases forecasts per week observed on a Sunday for 1, 2, 3, and 4-week ahead. One week ahead forecast geenrated after a Monday is to be treated as the Sunday after the next one. This is in accordance with the Reich Lab's forecasting hub. </li>\n                    <li> <b> Where to upload files </b>: Please add your files in the folder \"raw-forecasts/\" in your fork of \n                    <a href=\"https://github.com/scc-usc/covid19-forecast-bench\" target=\"_blank\"> our repo </a> and submit a pull request. It can be done directly using your browser, cloning the repo is not needed:\n\n                    <div class =\"w3-center\">\n                        <img src=\"https://raw.githubusercontent.com/scc-usc/covid19-forecast-bench/master/frontend/images/pull-request.PNG\" width=\"100%\"/>\n                    </div>\n                    </li>                    \n                    <li> <b> Methodology Description</b>: In a file named metadata-[Method Name].csv, please provide a short description of your approach, mentioning at least the following:\n                    <ul>\n                        <li> Modeling technique: Generative (SIR, SEIR, ...), Discriminative (Neural Networks, ARIMA, ...), ... </li>\n                        <li> Learning approach: Bayesian, Regression (Quadratic Programming, Gradient Descent, ...), ... </li>\n                        <li> Pre-processing: Smoothing (1 week, 2, week, auto), anomaly detection, ... </li>\n                    </ul>\n                    </li>\n                    <li> <b>Submitting forecasts from multiple methodologies</b>: If you are submitting forecasts for multiple methodolgies, please ensure there is something in their metadata descriptions that differentiates them. Please note that any change in your approach, including data pre-processing and hand-tuning a parameter counts as a different methodology.\n                    You can alter your method name to mark the distinction such as by appending an appropriate suffix. </li>\n                    <li> <b>License</b>: We encourage you to make your submission under <a href=\"https://opensource.org/licenses/MIT\" target=\"_blank\"> the opensource MIT license</a>. </li>\n                    </ul>\n                    <br/>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default Submit;","import React, { Component } from \"react\";\n\nimport {\n    Menu,\n    Row,\n    Col\n} from 'antd';\nimport styles from \"./navbar.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap'\n\n\n// class NavBar extends Component {\nconst NavBar = () => {\n    return (\n        <Navbar collapseOnSelect expand=\"lg\" className=\"navbar-header navbar-light\">\n          <Navbar.Brand href=\"#/\"><img\n                    className=\"logo\"\n                    src=\"https://identity.usc.edu/files/2011/12/combo_gold_white_cardinal.png\"\n                    alt=\"USC\"\n                /></Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link className=\"navbar-link\" href=\"#/\">Home</Nav.Link>\n              <Nav.Link className=\"navbar-link\" href=\"#evaluation\">Evaluation</Nav.Link>\n              <Nav.Link className=\"navbar-link\" href=\"#submit\">Submit</Nav.Link>\n              <Nav.Link className=\"navbar-link-highlight\" href=\"https://github.com/scc-usc/covid19-forecast-bench\" target=\"_blank\">Github</Nav.Link>\n            </Nav>\n            <Nav>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n    )\n}\nexport default NavBar;","import React, { Component } from \"react\";\nimport 'semantic-ui-css/semantic.min.css';\nimport \"./forecastbench.css\";\nimport {HashRouter, Route, Redirect, Switch} from 'react-router-dom'; \nimport Evaluation from \"./evaluation/evaluation\";\nimport HomePage from \"./homepage/homepage\";\nimport Submit from \"./submit/submit\";\nimport Navbar from \"./navbar/navbar\";\n\nclass ForecastBench extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      redirectHome: false,\n      redirectSubmit: false,\n      redirectEvaluation: false,\n    }\n  }\n\n  redirectHome = ()=>{\n    this.setState({\n      redirectHome: true,\n      redirectSubmit: false,\n      redirectEvaluation: false,\n    });\n  }\n\n  redirectSubmit = ()=>{\n    this.setState({\n      redirectHome: false,\n      redirectSubmit: true,\n      redirectEvaluation: false,\n    });\n  }\n\n  redirectEvaluation = ()=>{\n    this.setState({\n      redirectHome: false,\n      redirectSubmit: false,\n      redirectEvaluation: true,\n    });\n  }\n\n  render() {\n    const {redirectHome, redirectSubmit, redirectEvaluation} = this.state;\n    return (\n      <HashRouter basename=\"/\">\n        {redirectHome?<Redirect to=\"/\"/>:null}\n        {redirectSubmit?<Redirect to=\"/about\"/>:null}\n        {redirectEvaluation?<Redirect to=\"/evaluation\"/>:null}\n        <Navbar redirectHome = {this.redirectHome}\n                redirectSubmit = {this.redirectSubmit}\n                redirectEvaluation = {this.redirectEvaluation}\n        />\n        <Switch>\n          <Route exact path='/'\n            render={(props) => <HomePage {...props} />}/>\n          <Route exact path='/submit'\n            render={(props) => <Submit {...props} />} />\n          <Route exact path='/evaluation'\n            render={(props) => <Evaluation {...props} />}/>\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nexport default ForecastBench;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ForecastBench from './forecastbench';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ForecastBench />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}